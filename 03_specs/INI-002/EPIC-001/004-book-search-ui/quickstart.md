# Quickstart: 蔵書検索画面

**Feature**: 004-book-search-ui
**Date**: 2025-12-24

## 概要

蔵書検索画面のフロントエンド実装クイックスタートガイド。このドキュメントでは、開発環境のセットアップから基本的な画面の使用方法までを説明する。

---

## 前提条件

- Docker & Docker Compose がインストール済み
- Git リポジトリがクローン済み
- `004-book-search-ui` ブランチにチェックアウト済み
- 蔵書検索API（003-book-search-api）が実装済み

---

## 1. 開発環境のセットアップ

### コンテナの起動

```bash
docker-compose up -d
```

### フロントエンドの依存関係インストール

```bash
cd frontend
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで http://localhost:5173/books にアクセス。

---

## 2. 画面構成

### 蔵書検索画面（/books）

```
┌─────────────────────────────────────────────────────────────┐
│ 蔵書検索                                                    │
├─────────────────────────────────────────────────────────────┤
│ タイトル: [____________] 著者: [____________]               │
│ ISBN: [____________]                        [🔍 検索]       │
├─────────────────────────────────────────────────────────────┤
│ 検索結果: 100件                                             │
├───────────────────────────────────────────────────┬─────────┤
│ タイトル          │ 著者      │ 出版社    │ 状態 │         │
├───────────────────┼───────────┼───────────┼──────┼─────────┤
│ 吾輩は猫である    │ 夏目漱石  │ 岩波書店  │ 🟢   │         │
│ 坊っちゃん        │ 夏目漱石  │ 新潮社    │ 🔴   │         │
└───────────────────┴───────────┴───────────┴──────┴─────────┘
│ < 1 2 3 4 5 >                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 使用方法

### キーワード検索

1. タイトル欄に検索したいキーワードを入力
2. または著者欄に著者名を入力
3. 「検索」ボタンをクリック

### ISBN検索

1. ISBN欄に13桁または10桁のISBNを入力
2. 「検索」ボタンをクリック

### ページ移動

1. 検索結果下部のページ番号をクリック
2. または「<」「>」で前後のページに移動

---

## 4. 状態バッジ

| バッジ | 色 | 意味 |
|--------|-----|------|
| 貸出可 | 緑 | 現在貸出可能 |
| 貸出中 | 赤 | 他の利用者が借りている |
| 予約あり | 黄 | 予約が入っている |

---

## 5. ディレクトリ構成

```
frontend/src/features/books/
├── api/
│   └── bookApi.ts              # API クライアント
├── components/
│   ├── BookSearchForm.tsx      # 検索フォーム
│   ├── BookSearchResults.tsx   # 検索結果一覧
│   ├── BookStatusBadge.tsx     # 状態バッジ
│   └── Pagination.tsx          # ページネーション
├── hooks/
│   └── useBookSearch.ts        # 検索カスタムフック
├── types/
│   └── book.ts                 # 型定義
└── pages/
    └── BookSearchPage.tsx      # ページコンポーネント
```

---

## 6. トラブルシューティング

### 検索結果が表示されない

- バックエンドAPIが起動しているか確認: `curl http://localhost/api/books`
- ブラウザの開発者ツールでネットワークエラーを確認

### CORS エラー

- バックエンドのCORS設定を確認
- Viteのプロキシ設定を確認（vite.config.ts）

### ローディングが終わらない

- バックエンドAPIのレスポンスを確認
- TanStack Query DevToolsでクエリ状態を確認

---

## 7. 関連ドキュメント

- [仕様書](./spec.md)
- [実装計画](./plan.md)
- [データモデル](./data-model.md)
- [API使用ガイド](./contracts/api-usage.md)
- [蔵書検索API仕様](../003-book-search-api/contracts/openapi.yaml)
