# Feature Specification: ダッシュボード画面

**Feature Branch**: `004-dashboard-ui`
**Created**: 2025-12-25
**Status**: Draft
**Input**: ST-004: ダッシュボード画面の実装 - 職員がログイン後に業務メニュー（蔵書管理、貸出・返却、利用者管理、予約管理）にアクセスできるダッシュボード画面

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 業務メニューへのアクセス (Priority: P1)

職員として、ログイン後にダッシュボード画面で業務メニューを確認し、必要な業務機能にアクセスしたい。

**Why this priority**: ダッシュボードの主要目的は業務機能への素早いアクセス。これがなければダッシュボードの存在意義がない。

**Independent Test**: ダッシュボード画面を表示し、メニューカードをクリックして該当画面に遷移できることを確認する。

**Acceptance Scenarios**:

1. **Given** 職員がログイン済みの状態で、**When** ダッシュボード画面にアクセスすると、**Then** 業務メニュー（蔵書管理、貸出処理、返却処理、利用者管理、予約管理）が表示される
2. **Given** ダッシュボード画面が表示されている状態で、**When** 「蔵書管理」メニューをクリックすると、**Then** 蔵書管理画面に遷移する
3. **Given** ダッシュボード画面が表示されている状態で、**When** 各メニューをクリックすると、**Then** 該当する画面に遷移する

---

### User Story 2 - ユーザー情報の表示 (Priority: P1)

職員として、ダッシュボード画面で自分がログイン中であることを確認したい。

**Why this priority**: 共有端末での利用を想定し、誰がログインしているか明確にすることでセキュリティとオペレーションミスを防止する。

**Independent Test**: ダッシュボード画面でログイン中の職員名が表示されることを確認する。

**Acceptance Scenarios**:

1. **Given** 職員「山田太郎」がログイン済みの状態で、**When** ダッシュボード画面にアクセスすると、**Then** ウェルカムメッセージに「山田太郎」の名前が表示される
2. **Given** ダッシュボード画面が表示されている状態で、**When** ヘッダーを確認すると、**Then** ログイン中の職員名が表示されている

---

### User Story 3 - ログアウト (Priority: P1)

職員として、業務終了時にログアウトしてセッションを終了したい。

**Why this priority**: セキュリティ上必須の機能。共有端末での利用を想定し、他の職員に操作されることを防ぐ。

**Independent Test**: ログアウトボタンをクリックしてログイン画面に遷移し、再度ダッシュボードにアクセスできないことを確認する。

**Acceptance Scenarios**:

1. **Given** ダッシュボード画面が表示されている状態で、**When** ログアウトボタンをクリックすると、**Then** セッションが終了しログイン画面に遷移する
2. **Given** ログアウト後の状態で、**When** ダッシュボードURLに直接アクセスすると、**Then** ログイン画面にリダイレクトされる

---

### User Story 4 - ヘッダーナビゲーション (Priority: P2)

職員として、ヘッダーのナビゲーションから主要機能に素早くアクセスしたい。

**Why this priority**: メインメニューのカードに加え、ヘッダーからも主要機能にアクセスできることで利便性が向上する。

**Independent Test**: ヘッダーのナビゲーションリンクをクリックして該当画面に遷移できることを確認する。

**Acceptance Scenarios**:

1. **Given** ダッシュボード画面が表示されている状態で、**When** ヘッダーの「蔵書管理」リンクをクリックすると、**Then** 蔵書管理画面に遷移する
2. **Given** ダッシュボード画面が表示されている状態で、**When** ヘッダーのロゴをクリックすると、**Then** ダッシュボード画面に戻る

---

### Edge Cases

- 未実装のメニュー（統計など）をクリックした場合は「準備中」のメッセージを表示する
- セッションが期限切れになった場合、次の操作時にログイン画面にリダイレクトする
- 認証状態の確認中はローディング表示をする

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムはログイン中の職員名をダッシュボード画面に表示しなければならない
- **FR-002**: システムは業務メニュー（蔵書管理、貸出処理、返却処理、利用者管理、予約管理）をカード形式で表示しなければならない
- **FR-003**: 各メニューカードをクリックすると該当する画面に遷移しなければならない
- **FR-004**: システムはヘッダーにナビゲーションメニューを表示しなければならない
- **FR-005**: システムはログアウト機能を提供しなければならない
- **FR-006**: ログアウト時にセッションを終了し、ログイン画面に遷移しなければならない
- **FR-007**: 未認証ユーザーがダッシュボードにアクセスした場合、ログイン画面にリダイレクトしなければならない
- **FR-008**: ヘッダーにログイン中の職員名を表示しなければならない
- **FR-009**: 未実装のメニューには「準備中」の表示または無効化状態を示さなければならない
- **FR-010**: システムはフッターに著作権表示を含めなければならない

### Key Entities

- **職員（Staff）**: ログイン中のユーザー。ID、名前、メールアドレスを持つ
- **メニュー項目（MenuItem）**: 業務機能へのリンク。ラベル、アイコン、遷移先、有効/無効状態を持つ
- **ナビゲーション**: ヘッダーに表示される主要機能へのリンク群

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 職員がログイン後3秒以内にダッシュボード画面が表示される
- **SC-002**: 職員がメニューカードをクリックしてから1秒以内に該当画面への遷移が開始される
- **SC-003**: ログアウト操作から2秒以内にログイン画面に遷移する
- **SC-004**: ダッシュボード画面で全ての業務メニュー（5項目）が一目で確認できる
- **SC-005**: 職員は自分の名前がダッシュボードに表示されていることを確認できる

## Assumptions

- ログイン機能は既に実装済み（003-login-ui）
- 認証状態は Zustand ストアで管理される
- 遷移先の各画面（蔵書管理、貸出処理など）はプレースホルダーまたは「準備中」表示で対応
- ヘッダーとフッターは共通レイアウトコンポーネントとして実装
- レスポンシブデザインは標準的なブレークポイント（モバイル、タブレット、デスクトップ）に対応
