# UC-003-002: オンライン予約

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-003-002 |
| ユースケース名 | オンライン予約 |
| アクター | 図書館利用者 |
| 優先度 | Should |
| ステータス | Planned |

---

## 概要

利用者がスマートフォンやPCから蔵書を検索し、貸出中の図書に対してオンラインで予約を行う。

---

## 事前条件

- 利用者が有効な利用者カードを持っていること
- 利用者がシステムにログインしていること
- 予約対象の図書が「貸出中」状態であること

---

## 事後条件

- 予約が登録される
- 利用者に予約完了メールが送信される
- 予約状況がマイページに反映される

---

## 基本フロー

1. 利用者が蔵書検索を行う
2. 利用者が検索結果から図書を選択する
3. システムが図書詳細と貸出状況を表示する
4. 利用者が「予約する」ボタンをクリックする
5. システムが予約確認ダイアログを表示する
6. 利用者が予約を確定する
7. システムが予約を登録する
8. システムが予約完了メールを送信する
9. 利用者がマイページで予約状況を確認する

---

## 代替フロー

### 3a. 図書が貸出可能な場合

1. システムが「この図書は現在貸出可能です。来館してお借りください。」と表示する
2. ユースケース終了

### 6a. 既に予約済みの場合

1. システムが「この図書は既に予約済みです」と表示する
2. ユースケース終了

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC302-01 | オンライン予約可能数は5冊まで |
| BR-UC302-02 | 同一図書への重複予約は不可 |
| BR-UC302-03 | 延滞中の利用者は予約不可 |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| 可用性 | 24時間365日利用可能 |
| セキュリティ | HTTPS必須、セッション管理 |
