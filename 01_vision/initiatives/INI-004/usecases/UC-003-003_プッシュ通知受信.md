# UC-003-003: プッシュ通知受信

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-003-003 |
| ユースケース名 | プッシュ通知受信 |
| アクター | 図書館利用者 |
| 優先度 | Should |
| ステータス | Planned |

---

## 概要

利用者がスマートフォンでプッシュ通知を受信し、予約本の準備完了や返却期限などの重要な情報を受け取る。

---

## 事前条件

- 利用者がプッシュ通知を許可していること
- 利用者がシステムにログインしたことがあること

---

## 事後条件

- 利用者がプッシュ通知を受信する
- 通知をタップするとアプリ/サイトの該当ページに遷移する

---

## 通知種別

| 種別 | タイミング | 内容 |
|------|-----------|------|
| 予約可能通知 | 予約本が取り置きされた時 | 「予約していた『○○』が準備できました」 |
| 返却リマインダー | 返却期限3日前 | 「『○○』の返却期限が近づいています」 |
| 延滞通知 | 返却期限超過時 | 「『○○』の返却期限が過ぎています」 |
| 新着本通知 | お気に入りジャンルの新着時 | 「お気に入りジャンルに新着本が追加されました」 |

---

## 基本フロー（予約可能通知）

1. 予約していた図書が返却される
2. システムが予約者を特定する
3. システムがプッシュ通知を送信する
4. 利用者がスマートフォンで通知を受信する
5. 利用者が通知をタップする
6. システムがマイページの予約詳細を表示する

---

## 通知設定

| 設定項目 | デフォルト |
|----------|-----------|
| 予約可能通知 | ON |
| 返却リマインダー | ON |
| 延滞通知 | ON |
| 新着本通知 | OFF |
| 通知時間帯 | 8:00-21:00 |

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC303-01 | 通知は設定された時間帯内に送信する |
| BR-UC303-02 | 同一内容の通知は1日1回まで |
| BR-UC303-03 | 利用者は通知をオフにできる |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| 信頼性 | 通知送信成功率99%以上 |
| 即時性 | イベント発生から5分以内に通知 |
