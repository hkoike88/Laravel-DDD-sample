# INI-001: 認証・利用者管理基盤イニシアチブ

最終更新: 2024-04-22

---

## 概要

本イニシアチブは、図書館デジタル化システムの **認証・利用者管理基盤** を構築することを目的とする。
職員向けログイン画面・ダッシュボード、職員アカウント管理機能、および図書館利用者の登録・管理機能を実装し、
業務機能（INI-002）の前提となる基盤を整備する。

---

## ビジネス目標

| 項目 | 内容 |
|------|------|
| **目的** | 職員がシステムを安全に利用できる認証・管理基盤を構築し、図書館利用者情報を一元管理する |
| **成功指標** | 職員がログインしてダッシュボードにアクセスでき、職員・利用者のアカウント管理ができる |
| **対象者** | 図書館職員、システム管理者 |
| **期待効果** | セキュアなアクセス制御、職員・利用者情報の一元管理、業務効率の向上 |

---

## スコープ

### In Scope（対象範囲）

| カテゴリ | 内容 |
|----------|------|
| **職員向けログイン画面** | 職員認証のためのログインUI（INI-000 の認証APIを利用） |
| **職員向けダッシュボード** | 職員が業務機能にアクセスするためのホーム画面 |
| **職員アカウント管理** | 職員アカウントの作成・編集・無効化機能 |
| **利用者管理** | 図書館利用者の登録・編集・無効化・検索機能 |
| **職員ログアウト機能** | セッション終了・セキュアなログアウト処理 |
| **セキュリティ対策準備** | セキュリティ標準に基づく設定・実装 |

### Out of Scope（対象外）

| カテゴリ | 理由 |
|----------|------|
| 蔵書検索（公開機能） | INI-002 で対応 |
| 蔵書登録・編集機能 | INI-002 で対応 |
| 貸出・返却機能 | INI-002 で対応 |
| 予約管理機能 | INI-002 で対応 |
| 一般利用者ログイン機能 | Phase 3 以降で検討 |
| 一般利用者マイページ | Phase 3 以降で検討（ログイン機能実装後） |
| 外部認証連携（OAuth等） | Phase 2 以降で検討 |

---

## Use Case 一覧

### 職員認証・管理

| ID | Use Case 名 | 概要 | 優先度 |
|----|-------------|------|--------|
| UC-001-001 | 職員ログイン | 職員がシステムにログインする | Must |
| UC-001-002 | 職員ダッシュボード表示 | 職員が業務メニューにアクセスする | Must |
| UC-001-003 | 職員アカウント作成 | 管理者が新規職員アカウントを作成する | Must |
| UC-001-004 | 職員アカウント編集 | 管理者が職員情報を編集する | Must |
| UC-001-005 | 職員アカウント無効化 | 管理者が職員アカウントを無効化する | Must |
| UC-001-006 | 職員ログアウト | 職員がシステムからログアウトする | Must |

### 利用者管理

| ID | Use Case 名 | 概要 | 優先度 |
|----|-------------|------|--------|
| UC-001-008 | 利用者アカウント登録 | 職員が新規利用者を登録する | Must |
| UC-001-009 | 利用者アカウント編集 | 職員が利用者情報を編集する | Must |
| UC-001-010 | 利用者アカウント無効化 | 職員が利用者アカウントを無効化する | Must |
| UC-001-011 | 利用者検索 | 職員が利用者を検索・一覧表示する | Must |

### セキュリティ基盤

| ID | Use Case 名 | 概要 | 優先度 |
|----|-------------|------|--------|
| UC-001-007 | セキュリティ対策準備 | セキュリティ標準に基づく対策の実装 | Must |

---

## 依存関係

### 前提条件

| イニシアチブ | 内容 | 関係 |
|-------------|------|------|
| INI-000 | 開発環境構築 | 完了していること |
| EPIC-005 | 職員認証機能 | 認証API・基本画面が実装済み |
| EPIC-006 | 職員ログアウト機能 | ログアウト機能が実装済み |
| EPIC-007 | セキュリティ対策準備 | セキュリティ設定が適用済み |

### 後続タスク

| イニシアチブ | 内容 | 関係 |
|-------------|------|------|
| INI-002 | 図書館業務デジタル化（MVP） | 本イニシアチブの機能を前提とする |

---

## 技術スタック

INI-000 で構築した技術スタックを継続使用する。

### 追加・拡張コンポーネント

| カテゴリ | 技術 | 用途 |
|----------|------|------|
| 権限管理 | Laravel Gate/Policy | ロールベースアクセス制御 |
| UI コンポーネント | Tailwind CSS + カスタムコンポーネント | ダッシュボード画面 |
| 状態管理 | Zustand | 認証状態・ユーザー情報管理 |

---

## 完了条件

1. 職員がログインして職員ダッシュボードにアクセスできること
2. 管理者が職員アカウントを作成・編集・無効化できること
3. 職員が図書館利用者を登録・編集・無効化・検索できること
4. 権限に基づいたアクセス制御が機能すること
5. セキュリティ標準（EPIC-007）が適用されていること
6. 全機能のテストが作成されていること

---

## 画面一覧

### 職員認証・管理

| 画面ID | 画面名 | パス | 対象者 |
|--------|--------|------|--------|
| SCR-001-001 | 職員ログイン画面 | `/staff/login` | 職員 |
| SCR-001-002 | 職員ダッシュボード | `/staff/dashboard` | 職員 |
| SCR-001-003 | 職員アカウント一覧 | `/staff/accounts` | 管理者 |
| SCR-001-004 | 職員アカウント作成 | `/staff/accounts/new` | 管理者 |
| SCR-001-005 | 職員アカウント編集 | `/staff/accounts/{id}/edit` | 管理者 |

### 利用者管理

| 画面ID | 画面名 | パス | 対象者 |
|--------|--------|------|--------|
| SCR-001-006 | 利用者一覧・検索 | `/staff/patrons` | 職員 |
| SCR-001-007 | 利用者登録 | `/staff/patrons/new` | 職員 |
| SCR-001-008 | 利用者詳細 | `/staff/patrons/{id}` | 職員 |
| SCR-001-009 | 利用者編集 | `/staff/patrons/{id}/edit` | 職員 |

---

## 関連ドキュメント

| ドキュメント | 内容 |
|-------------|------|
| [INI-000: 開発環境構築](../INI-000/charter.md) | 前提となる開発環境 |
| [EPIC-005: 職員認証機能](../../../02_backlog/00_epics/INI-000/EPIC-005/epic.md) | 認証API・基本画面 |
| [EPIC-007: セキュリティ対策準備](../../../02_backlog/00_epics/INI-000/EPIC-007/epic.md) | セキュリティ標準 |
| [セキュリティ標準](../../../00_docs/20_tech/99_standard/security/00_Overview.md) | セキュリティ設計基準 |
| [利用者登録・管理業務フロー（AS-IS）](../../../00_docs/10_business/asis/swimlane/user-registration-process.md) | 現行業務フロー |

---

## ステータス

| 項目 | 値 |
|------|-----|
| ステータス | Planned |
| 開始予定日 | 2024-05-13 |
| 完了予定日 | 2024-06-07 |
| 責任者 | 開発チーム |
