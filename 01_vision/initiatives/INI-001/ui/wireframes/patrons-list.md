# 利用者一覧・検索 ワイヤーフレーム

画面ID: SCR-001-006
最終更新: 2024-04-22

---

## 画面概要

| 項目 | 内容 |
|------|------|
| 画面名 | 利用者一覧・検索 |
| URL | `/staff/patrons` |
| 認証 | 必須 |
| 関連UC | [UC-001-011 利用者検索](../../usecases/UC-001-011_利用者検索.md) |

---

## ワイヤーフレーム

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📚 青空市立中央図書館    利用者管理  蔵書管理  貸出・返却   山田太郎 ▼   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   👤 利用者管理                                                          │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   ┌─────────────────────────────────────────────────────────────┐      │
│   │ 🔍 利用者検索                                                │      │
│   │                                                             │      │
│   │ ┌───────────────┐ ┌───────────────┐ ┌───────────────┐      │      │
│   │ │ 利用者番号     │ │ 氏名          │ │ 電話番号       │      │      │
│   │ │               │ │               │ │               │      │      │
│   │ └───────────────┘ └───────────────┘ └───────────────┘      │      │
│   │                                                             │      │
│   │ ステータス: ○ 有効のみ  ○ 無効含む                          │      │
│   │                                                             │      │
│   │                              [検索] [クリア] [📷 カードスキャン]│      │
│   └─────────────────────────────────────────────────────────────┘      │
│                                                                         │
│   検索結果: 3件                                  [+ 新規利用者を登録]   │
│                                                                         │
│   ┌─────────────────────────────────────────────────────────────┐      │
│   │ 利用者番号  │ 氏名        │ ふりがな    │ 電話番号     │ 有効期限  │ 操作│
│   ├────────────┼────────────┼────────────┼─────────────┼─────────┼────┤
│   │ P00001234  │ 松本 洋子   │ まつもと...  │ 03-1234-... │ 2025/04 │[詳細]│
│   │ P00001235  │ 中村 健太   │ なかむら...  │ 03-2345-... │ 2025/06 │[詳細]│
│   │ P00001236  │ 高橋 美咲   │ たかはし...  │ 03-3456-... │ 2024/12 │[詳細]│
│   └─────────────────────────────────────────────────────────────┘      │
│                                                                         │
│   ◀ 1 2 3 ... ▶                                                        │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                     © 青空市立図書館 2024                              │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## UI 要素一覧

### 検索フォーム

| 要素ID | 種類 | 要素名 | 説明 |
|--------|------|--------|------|
| search-patron-id | input[text] | 利用者番号 | 完全一致検索 |
| search-name | input[text] | 氏名 | 部分一致検索 |
| search-phone | input[text] | 電話番号 | 部分一致検索 |
| search-status | radio | ステータス | 有効のみ/無効含む |
| btn-search | button | 検索 | 検索を実行 |
| btn-clear | button | クリア | 検索条件をクリア |
| btn-scan | button | カードスキャン | 貸出カードのバーコード読取 |

### アクションボタン

| 要素ID | 種類 | 要素名 | 説明 |
|--------|------|--------|------|
| btn-add | button | 新規登録 | 利用者登録画面へ遷移 |

### 一覧テーブル

| 要素ID | 種類 | 要素名 | 説明 |
|--------|------|--------|------|
| table-patrons | table | 利用者一覧 | 検索結果の一覧表示 |
| btn-detail | button | 詳細ボタン | 利用者詳細画面へ遷移 |
| pagination | nav | ページネーション | ページ切り替え |

---

## テーブルカラム

| カラム | 説明 | ソート | 備考 |
|--------|------|--------|------|
| 利用者番号 | 利用者の識別番号 | ○ | |
| 氏名 | 利用者の氏名 | ○ | |
| ふりがな | 氏名のふりがな | ○ | 長い場合は省略表示 |
| 電話番号 | 連絡先電話番号 | - | |
| 有効期限 | カードの有効期限 | ○ | 期限切れは赤字表示 |
| 操作 | 詳細ボタン | - | |

---

## 検索条件

| 項目 | 検索方法 | デフォルト |
|------|---------|-----------|
| 利用者番号 | 完全一致 | 空 |
| 氏名 | 部分一致（前方・中間・後方） | 空 |
| 電話番号 | 部分一致 | 空 |
| ステータス | フィルタ | 有効のみ |

---

## 画面遷移

| アクション | 遷移先 | 備考 |
|-----------|--------|------|
| 新規登録クリック | `/staff/patrons/new` | 登録画面へ |
| 詳細クリック | `/staff/patrons/{id}` | 詳細画面へ |
| カードスキャン | 現在の画面 | 利用者番号を自動入力 |

---

## バーコードスキャン

- 貸出カードのバーコードをスキャンすると利用者番号が自動入力される
- USB接続のバーコードリーダー対応
- スキャン後は自動で検索実行

---

## ページネーション

| 項目 | 値 |
|------|-----|
| 1ページあたり件数 | 20件 |
| 表示ページ数 | 最大5ページ分 |
| 最大検索結果 | 100件 |

---

## レスポンシブ対応

| ブレークポイント | レイアウト |
|-----------------|-----------|
| デスクトップ（1024px以上） | フルテーブル表示 |
| タブレット（768px〜1023px） | 横スクロール対応 |
| モバイル（767px以下） | カード形式に変更 |

---

## 関連ドキュメント

- [画面一覧](../screen-list.md)
- [UC-001-011 利用者検索](../../usecases/UC-001-011_利用者検索.md)
- [利用者登録・管理業務フロー（AS-IS）](../../../../../00_docs/10_business/asis/swimlane/user-registration-process.md)
