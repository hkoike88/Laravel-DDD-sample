# 職員アカウント作成 ワイヤーフレーム

画面ID: SCR-001-004
最終更新: 2024-04-22

---

## 画面概要

| 項目 | 内容 |
|------|------|
| 画面名 | 職員アカウント作成 |
| URL | `/staff/accounts/new` |
| 認証 | 必須（管理者権限） |
| 関連UC | [UC-001-003 職員アカウント作成](../../usecases/UC-001-003_職員アカウント作成.md) |

---

## ワイヤーフレーム

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📚 青空市立中央図書館    利用者管理  蔵書管理  貸出・返却   山田太郎 ▼   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   ダッシュボード > 職員管理 > 新規作成                                   │
│                                                                         │
│   ➕ 職員アカウント作成                                                  │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   ┌─────────────────────────────────────────────────────────────┐      │
│   │                                                             │      │
│   │  氏名 *                                                     │      │
│   │  ┌───────────────────────────────────────────────────────┐  │      │
│   │  │ 例: 山田 太郎                                          │  │      │
│   │  └───────────────────────────────────────────────────────┘  │      │
│   │                                                             │      │
│   │  メールアドレス *                                           │      │
│   │  ┌───────────────────────────────────────────────────────┐  │      │
│   │  │ 例: yamada@example.com                                 │  │      │
│   │  └───────────────────────────────────────────────────────┘  │      │
│   │                                                             │      │
│   │  権限 *                                                     │      │
│   │  ┌───────────────────────────────────────────────────────┐  │      │
│   │  │ 一般職員                                         ▼    │  │      │
│   │  └───────────────────────────────────────────────────────┘  │      │
│   │                                                             │      │
│   │  初期パスワード設定                                         │      │
│   │  ○ 自動生成（ログイン時に変更を求める）                     │      │
│   │  ○ 招待メールを送信（職員がパスワードを設定）               │      │
│   │                                                             │      │
│   │                                                             │      │
│   │                    [キャンセル]  [作成する]                  │      │
│   │                                                             │      │
│   └─────────────────────────────────────────────────────────────┘      │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                     © 青空市立図書館 2024                              │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## UI 要素一覧

| 要素ID | 種類 | 要素名 | 必須 | 説明 |
|--------|------|--------|------|------|
| name | input[text] | 氏名 | ○ | 職員の氏名（姓名をスペース区切り） |
| email | input[email] | メールアドレス | ○ | 職員のメールアドレス |
| role | select | 権限 | ○ | 一般職員/管理者 |
| password-type | radio | 初期パスワード設定 | ○ | 自動生成/招待メール |
| btn-cancel | button | キャンセル | - | 一覧画面に戻る |
| btn-submit | button | 作成する | - | アカウント作成を実行 |

---

## 入力項目

| 項目 | 必須 | 形式 | バリデーション | エラーメッセージ |
|------|:----:|------|---------------|----------------|
| 氏名 | ○ | 文字列 | 50文字以内 | 氏名を入力してください / 50文字以内で入力してください |
| メールアドレス | ○ | メール形式 | 一意制約 | メールアドレスを入力してください / このメールアドレスは既に登録されています |
| 権限 | ○ | 選択 | - | 権限を選択してください |
| 初期パスワード | ○ | 選択 | - | 初期パスワードの設定方法を選択してください |

---

## 権限選択肢

| 値 | 表示名 | 説明 |
|----|--------|------|
| staff | 一般職員 | 通常の業務操作権限 |
| admin | 管理者 | 職員アカウント管理権限を含む |

---

## 画面遷移

| アクション | 遷移先 | 備考 |
|-----------|--------|------|
| キャンセル | `/staff/accounts` | 確認ダイアログなし |
| 作成成功 | `/staff/accounts` | 成功メッセージ表示 |
| 作成失敗 | 現在の画面 | エラーメッセージ表示 |

---

## バリデーション

### クライアント側

- 必須チェック（氏名、メールアドレス、権限）
- メール形式チェック
- 文字数チェック（氏名: 50文字以内）

### サーバー側

- 上記に加え、メールアドレスの一意性チェック

---

## 成功時の処理

1. 職員アカウントを作成
2. 初期パスワード設定（自動生成の場合）
3. 招待メール送信（招待メールの場合）
4. 職員一覧画面にリダイレクト
5. 「職員アカウントを作成しました」メッセージ表示

---

## 関連ドキュメント

- [画面一覧](../screen-list.md)
- [UC-001-003 職員アカウント作成](../../usecases/UC-001-003_職員アカウント作成.md)
