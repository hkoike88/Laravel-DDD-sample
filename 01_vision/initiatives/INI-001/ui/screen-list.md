# INI-001: 画面一覧

最終更新: 2024-04-22

---

## 概要

本ドキュメントは、INI-001（認証・利用者管理基盤）で実装する画面の一覧を定義する。

---

## 画面一覧

### 職員認証・管理

| 画面ID | 画面名 | URL パス | 認証 | 関連ユースケース | 説明 |
|--------|--------|----------|------|-----------------|------|
| SCR-001-001 | 職員ログイン画面 | `/staff/login` | 不要 | UC-001-001 | 職員がシステムにログインする |
| SCR-001-002 | 職員ダッシュボード | `/staff/dashboard` | 必須 | UC-001-002 | 職員が業務メニューにアクセスする |
| SCR-001-003 | 職員アカウント一覧 | `/staff/accounts` | 必須（管理者） | UC-001-003〜005 | 職員アカウントの一覧表示 |
| SCR-001-004 | 職員アカウント作成 | `/staff/accounts/new` | 必須（管理者） | UC-001-003 | 新規職員アカウントの作成 |
| SCR-001-005 | 職員アカウント編集 | `/staff/accounts/{id}/edit` | 必須（管理者） | UC-001-004 | 職員アカウント情報の編集 |

### 利用者管理

| 画面ID | 画面名 | URL パス | 認証 | 関連ユースケース | 説明 |
|--------|--------|----------|------|-----------------|------|
| SCR-001-006 | 利用者一覧・検索 | `/staff/patrons` | 必須 | UC-001-011 | 利用者の検索・一覧表示 |
| SCR-001-007 | 利用者登録 | `/staff/patrons/new` | 必須 | UC-001-008 | 新規利用者の登録 |
| SCR-001-008 | 利用者詳細 | `/staff/patrons/{id}` | 必須 | UC-001-009, 010 | 利用者情報の詳細表示 |
| SCR-001-009 | 利用者編集 | `/staff/patrons/{id}/edit` | 必須 | UC-001-009 | 利用者情報の編集 |

---

## 画面詳細

### SCR-001-001: 職員ログイン画面

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-001 |
| 画面名 | 職員ログイン画面 |
| URL パス | `/staff/login` |
| 認証要否 | 不要（未ログイン状態でアクセス可能） |
| 関連ユースケース | [UC-001-001 職員ログイン](../usecases/UC-001-001_職員ログイン.md) |

**機能概要:**
- 職員ID（メールアドレス）とパスワードによる認証
- ログイン成功時はダッシュボードへリダイレクト
- ログイン失敗時はエラーメッセージを表示
- アカウントロック時は警告メッセージを表示

**ワイヤーフレーム:** [staff-login.md](./wireframes/staff-login.md)

---

### SCR-001-002: 職員ダッシュボード

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-002 |
| 画面名 | 職員ダッシュボード |
| URL パス | `/staff/dashboard` |
| 認証要否 | 必須（未ログイン時はログイン画面へリダイレクト） |
| 関連ユースケース | [UC-001-002 職員ダッシュボード表示](../usecases/UC-001-002_職員ダッシュボード表示.md) |

**機能概要:**
- ログイン後のトップ画面
- 各機能（蔵書管理、貸出・返却、利用者管理など）へのナビゲーション
- ログイン中の職員情報を表示
- ログアウト機能
- 管理者権限の場合は職員アカウント管理へのリンクを表示

**ワイヤーフレーム:** [staff-dashboard.md](./wireframes/staff-dashboard.md)

---

### SCR-001-003: 職員アカウント一覧

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-003 |
| 画面名 | 職員アカウント一覧 |
| URL パス | `/staff/accounts` |
| 認証要否 | 必須（管理者権限） |
| 関連ユースケース | UC-001-003, UC-001-004, UC-001-005 |

**機能概要:**
- 職員アカウントの一覧表示
- 氏名、メールアドレス、権限、ステータスでの検索・フィルタリング
- 新規作成、編集、無効化へのリンク

**ワイヤーフレーム:** [staff-accounts-list.md](./wireframes/staff-accounts-list.md)

---

### SCR-001-004: 職員アカウント作成

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-004 |
| 画面名 | 職員アカウント作成 |
| URL パス | `/staff/accounts/new` |
| 認証要否 | 必須（管理者権限） |
| 関連ユースケース | [UC-001-003 職員アカウント作成](../usecases/UC-001-003_職員アカウント作成.md) |

**機能概要:**
- 新規職員アカウントの作成フォーム
- 氏名、メールアドレス、権限の入力
- 初期パスワードの自動生成または招待メール送信

**ワイヤーフレーム:** [staff-accounts-new.md](./wireframes/staff-accounts-new.md)

---

### SCR-001-005: 職員アカウント編集

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-005 |
| 画面名 | 職員アカウント編集 |
| URL パス | `/staff/accounts/{id}/edit` |
| 認証要否 | 必須（管理者権限） |
| 関連ユースケース | [UC-001-004 職員アカウント編集](../usecases/UC-001-004_職員アカウント編集.md) |

**機能概要:**
- 職員アカウント情報の編集フォーム
- 氏名、権限の変更
- パスワードリセット機能
- アカウント無効化ボタン

**ワイヤーフレーム:** [staff-accounts-edit.md](./wireframes/staff-accounts-edit.md)

---

### SCR-001-006: 利用者一覧・検索

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-006 |
| 画面名 | 利用者一覧・検索 |
| URL パス | `/staff/patrons` |
| 認証要否 | 必須 |
| 関連ユースケース | [UC-001-011 利用者検索](../usecases/UC-001-011_利用者検索.md) |

**機能概要:**
- 利用者の検索（利用者番号、氏名、電話番号）
- 検索結果の一覧表示
- 新規登録へのリンク
- 詳細画面へのリンク

**ワイヤーフレーム:** [patrons-list.md](./wireframes/patrons-list.md)

---

### SCR-001-007: 利用者登録

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-007 |
| 画面名 | 利用者登録 |
| URL パス | `/staff/patrons/new` |
| 認証要否 | 必須 |
| 関連ユースケース | [UC-001-008 利用者アカウント登録](../usecases/UC-001-008_利用者アカウント登録.md) |

**機能概要:**
- 新規利用者の登録フォーム
- 氏名、ふりがな、生年月日、住所、電話番号、利用者区分の入力
- 利用者番号の自動採番
- 登録完了後、貸出カード印刷オプション

**ワイヤーフレーム:** [patrons-new.md](./wireframes/patrons-new.md)

---

### SCR-001-008: 利用者詳細

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-008 |
| 画面名 | 利用者詳細 |
| URL パス | `/staff/patrons/{id}` |
| 認証要否 | 必須 |
| 関連ユースケース | UC-001-009, UC-001-010 |

**機能概要:**
- 利用者情報の詳細表示
- 編集画面へのリンク
- 有効期限更新ボタン
- 無効化ボタン
- 貸出カード再発行ボタン
- 貸出履歴の表示（INI-002で実装）

**ワイヤーフレーム:** [patrons-detail.md](./wireframes/patrons-detail.md)

---

### SCR-001-009: 利用者編集

| 項目 | 内容 |
|------|------|
| 画面ID | SCR-001-009 |
| 画面名 | 利用者編集 |
| URL パス | `/staff/patrons/{id}/edit` |
| 認証要否 | 必須 |
| 関連ユースケース | [UC-001-009 利用者アカウント編集](../usecases/UC-001-009_利用者アカウント編集.md) |

**機能概要:**
- 利用者情報の編集フォーム
- 氏名、ふりがな、住所、電話番号、備考の変更
- 変更履歴の記録

**ワイヤーフレーム:** [patrons-edit.md](./wireframes/patrons-edit.md)

---

## 共通レイアウト

### ヘッダー（認証後）

| 要素 | 説明 |
|------|------|
| システムロゴ | クリックでダッシュボードへ遷移 |
| ナビゲーション | 蔵書管理、貸出・返却、利用者管理へのリンク |
| 職員アカウント管理 | 管理者権限の場合のみ表示 |
| 職員名表示 | ログイン中の職員名を表示 |
| ログアウトボタン | クリックでログアウト処理を実行 |

### フッター

| 要素 | 説明 |
|------|------|
| コピーライト | システム名・年度表示 |

---

## 画面遷移

画面遷移図は [screen-flow.drawio](./screen-flow.drawio) を参照。

```
[職員ログイン画面] ──ログイン成功──> [職員ダッシュボード]
        ^                                    │
        │                                    ├──> [利用者管理]
        │                                    │         │
        │                                    │         ├──> [利用者一覧・検索]
        │                                    │         │         │
        │                                    │         │         ├──> [利用者登録]
        │                                    │         │         ├──> [利用者詳細]
        │                                    │         │         │         │
        │                                    │         │         │         └──> [利用者編集]
        │                                    │         │
        │                                    │         └──> [利用者登録]
        │                                    │
        │                                    └──> [職員アカウント管理]（管理者のみ）
        │                                              │
        │                                              ├──> [職員アカウント一覧]
        │                                              │         │
        │                                              │         ├──> [職員アカウント作成]
        │                                              │         └──> [職員アカウント編集]
        │
        +─────────────────ログアウト─────────────────────+
```

---

## 関連ドキュメント

- [INI-001 チャーター](../charter.md)
- [INI-001 ユースケース一覧](../usecases/README.md)
- [フロントエンドアーキテクチャ](../../../../00_docs/20_tech/20_architecture/frontend/01_ArchitectureDesign.md)
- [フロントエンド標準](../../../../00_docs/20_tech/99_standard/frontend/00_Overview.md)
