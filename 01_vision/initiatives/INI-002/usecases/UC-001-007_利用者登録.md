# UC-001-007: 利用者登録

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-001-007 |
| ユースケース名 | 利用者登録 |
| アクター | 図書館職員 |
| 関連Epic | EP-04（利用者管理） |
| 関連課題 | - |
| ステータス | Planned |

---

## 概要

職員が新規利用者の登録を行い、利用者カードを発行する。

---

## 事前条件

- 職員がログインしていること
- 利用者が登録に必要な本人確認書類を提示していること
- 利用者が青空市民であること（または市内勤務・通学者）

---

## 事後条件

- 利用者情報がシステムに登録される
- 利用者カード番号が発行される
- 利用者カードの有効期限が設定される（登録から1年間）

---

## 基本フロー

1. 職員が利用者登録画面を開く
2. 職員が利用者情報を入力する（氏名、住所、電話番号、メールアドレス等）
3. 職員が利用資格を確認する（市民/市内勤務・通学者）
4. 職員が登録ボタンをクリックする
5. システムが入力内容を検証する
6. システムが利用者カード番号を自動発行する
7. システムが有効期限を設定する（登録日から1年後）
8. システムが登録完了メッセージを表示する
9. 職員が利用者カードを発行し、利用者に渡す

---

## 代替フロー

### 5a. 入力内容に不備がある場合

1. システムがエラーメッセージを表示する
2. 職員がエラー箇所を修正する
3. 基本フロー4に戻る

### 5b. 既に登録済みの利用者の場合

1. システムが「この情報で登録済みの利用者があります」と警告を表示する
2. 職員が既存情報を確認する
3. 職員が重複登録か更新かを判断する

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC007-01 | 氏名、住所、電話番号は必須項目 |
| BR-UC007-02 | カード有効期限は登録から1年間 |
| BR-UC007-03 | 利用者カード番号は8桁の連番で自動発行 |
| BR-UC007-04 | 青空市民または市内勤務・通学者のみ登録可能 |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| パフォーマンス | 登録処理は3分以内に完了する（現状10分→3分に70%短縮） |
| 可用性 | 図書館開館時間中は利用可能 |
| セキュリティ | 個人情報は適切に保護される |

---

## 画面イメージ（概要）

- 利用者情報入力フォーム（氏名、住所、電話番号、メールアドレス）
- 利用資格選択（市民/市内勤務・通学者）
- 登録ボタン
- 登録完了ダイアログ（発行されたカード番号、有効期限表示）

---

## 関連ドキュメント

- [AS-IS業務フロー 利用者登録](../../../../00_docs/10_business/asis/swimlane/user-registration-process.md)
