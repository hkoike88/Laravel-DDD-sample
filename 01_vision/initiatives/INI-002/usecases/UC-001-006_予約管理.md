# UC-001-006: 予約管理

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-001-006 |
| ユースケース名 | 予約管理 |
| アクター | 図書館職員 |
| 関連Epic | EP-03（予約管理） |
| 関連課題 | ISS-007, ISS-010 |
| ステータス | Planned |

---

## 概要

職員が予約状況の確認、取り置き管理、予約キャンセルなど予約に関する管理業務を行う。

---

## 事前条件

- 職員がログインしていること
- 予約データがシステムに登録されていること

---

## 事後条件

- 予約状況が正確に把握できる
- 取り置き期限切れの予約が管理される
- 予約者への連絡リストが生成される

---

## 基本フロー（予約状況確認）

1. 職員が予約管理画面を開く
2. システムが予約一覧を表示する（図書名、予約者、予約日、状態）
3. 職員が必要に応じてフィルタ条件を設定する
4. 職員が予約詳細を確認する

---

## 代替フロー

### A. 取り置き期限管理

1. 職員が「取り置き中」タブを選択する
2. システムが取り置き中の予約一覧を表示する
3. システムが取り置き期限（連絡後7日）と残り日数を表示する
4. 期限切れの予約がハイライト表示される
5. 職員が期限切れ予約のキャンセル処理を行う

### B. 予約者連絡リスト生成

1. 職員が「要連絡」タブを選択する
2. システムが返却済み図書の予約者リストを表示する
3. 職員が連絡先と連絡内容を確認する
4. 職員が連絡済みマークを付ける

### C. 予約キャンセル

1. 職員が予約をキャンセルする予約を選択する
2. システムがキャンセル確認ダイアログを表示する
3. 職員がキャンセルを確定する
4. システムが予約を削除し、次の予約者を繰り上げる

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC006-01 | 取り置き期限は連絡後7日間 |
| BR-UC006-02 | 期限切れ予約は自動でキャンセルリストに追加される |
| BR-UC006-03 | 予約キャンセル時は次の予約者が自動で繰り上がる |
| BR-UC006-04 | 予約情報は職員のみ閲覧可能（プライバシー保護） |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| セキュリティ | 予約情報は職員画面でのみ表示される（ホワイトボード廃止） |
| 可用性 | 図書館開館時間中は利用可能 |

---

## 画面イメージ（概要）

- タブ切り替え（全予約、取り置き中、要連絡、期限切れ）
- 予約一覧表（図書名、予約者、予約日、状態、取り置き期限）
- 期限切れ警告アイコン
- キャンセルボタン
- 連絡済みチェックボックス

---

## 関連ドキュメント

- [課題分析 ISS-007](../../../../00_docs/10_business/asis/pain-points/issues-analysis.md#iss-007-取り置き期限管理が手動)
- [課題分析 ISS-010](../../../../00_docs/10_business/asis/pain-points/issues-analysis.md#iss-010-予約情報がホワイトボードで丸見え)
