# UC-001-005: 予約登録

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-001-005 |
| ユースケース名 | 予約登録 |
| アクター | 図書館職員 |
| 関連Epic | EP-03（予約管理） |
| 関連課題 | ISS-005, ISS-006 |
| ステータス | Planned |

---

## 概要

職員が利用者からの予約依頼を受け付け、貸出中の図書に予約を登録する。

---

## 事前条件

- 職員がログインしていること
- 利用者が有効な利用者カードを持っていること
- 予約対象の図書が「貸出中」状態であること

---

## 事後条件

- 予約記録が作成される（利用者ID、図書ID、予約日時、予約順番）
- 利用者の連絡先情報が予約に紐づけられる
- 図書の予約者一覧が更新される

---

## 基本フロー

1. 職員が利用者カード番号を入力する
2. システムが利用者情報と連絡先を表示する
3. 職員が予約対象図書のバーコード/ISBNを入力する
4. システムが図書の予約状況を表示する（現在の予約人数、待ち順番）
5. 職員が予約登録ボタンをクリックする
6. システムが予約を登録し、予約番号を発行する
7. 職員が利用者に予約番号と待ち順番を伝える

---

## 代替フロー

### 3a. 図書が貸出可の場合

1. システムが「この図書は現在貸出可能です」と表示する
2. 職員が利用者に直接貸出を案内する
3. ユースケース終了（または貸出処理へ）

### 4a. 既に予約済みの場合

1. システムが「この図書は既に予約済みです」と警告を表示する
2. ユースケース終了

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC005-01 | 同一図書への重複予約は不可 |
| BR-UC005-02 | 予約順番は先着順で自動付番 |
| BR-UC005-03 | 予約時に連絡先情報を自動取得する |
| BR-UC005-04 | 予約可能冊数の上限なし（MVP時点） |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| パフォーマンス | 予約登録は1分以内に完了する（現状5分→1分に80%短縮） |
| 可用性 | 図書館開館時間中は利用可能 |
| 信頼性 | 予約記録は確実に保存される |

---

## 画面イメージ（概要）

- 利用者カード番号入力フィールド
- 利用者情報・連絡先表示エリア
- 図書バーコード入力フィールド
- 予約状況表示エリア（現在の予約人数、待ち順番）
- 予約登録ボタン
- 予約番号表示

---

## 関連ドキュメント

- [課題分析 ISS-005](../../../../00_docs/10_business/asis/pain-points/issues-analysis.md#iss-005-予約対応漏れが多発)
- [課題分析 ISS-006](../../../../00_docs/10_business/asis/pain-points/issues-analysis.md#iss-006-予約連絡先のメモ漏れ)
- [AS-IS業務フロー 予約処理](../../../../00_docs/10_business/asis/swimlane/reservation-process.md)
