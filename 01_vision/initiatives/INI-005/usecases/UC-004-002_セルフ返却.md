# UC-004-002: セルフ返却

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-004-002 |
| ユースケース名 | セルフ返却 |
| アクター | 図書館利用者 |
| 優先度 | Must |
| ステータス | Planned |

---

## 概要

利用者がセルフ返却端末または自動返却ポストを使用して、職員を介さずに図書を返却する。

---

## 事前条件

- 返却対象の図書が貸出中状態であること
- セルフ返却端末または返却ポストが正常に稼働していること

---

## 事後条件

- 図書が返却される
- 返却記録がシステムに登録される
- 予約がある場合は取り置き処理が行われる

---

## 基本フロー（セルフ返却端末）

1. 利用者がセルフ返却端末の前に立つ
2. 端末が「返却する本を台に置いてください」と案内する
3. 利用者が返却する本を台に置く
4. 端末がICタグを読み取り、図書情報を表示する
5. 端末が返却処理を実行する
6. 端末が「返却完了」を表示する
7. 予約がある場合、端末が「この本には予約があります。指定の棚に置いてください」と表示する

---

## 代替フロー

### A. 自動返却ポスト（閉館時）

1. 利用者が返却ポストの投入口を開ける
2. 利用者が本を投入する
3. ポストがICタグを読み取る
4. ポストが返却処理を実行する
5. ポストが「ピッ」と音で返却完了を通知する

### 4a. 延滞していた場合

1. 端末が「この本は延滞していました」と表示する
2. 返却処理は正常に完了する

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC402-01 | 複数冊同時返却可能 |
| BR-UC402-02 | 延滞本も返却可能 |
| BR-UC402-03 | 予約本は自動で取り置きリストに追加 |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| 可用性 | 返却ポストは24時間利用可能 |
| 信頼性 | 返却記録は確実に保存される |
