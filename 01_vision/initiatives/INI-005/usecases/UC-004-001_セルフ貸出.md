# UC-004-001: セルフ貸出

最終更新: 2025-12-24

---

## 基本情報

| 項目 | 値 |
|------|-----|
| ユースケースID | UC-004-001 |
| ユースケース名 | セルフ貸出 |
| アクター | 図書館利用者 |
| 優先度 | Must |
| ステータス | Planned |

---

## 概要

利用者がセルフ貸出端末を使用して、職員を介さずに図書を借りる。

---

## 事前条件

- 利用者が有効な利用者カードを持っていること
- セルフ貸出端末が正常に稼働していること
- 貸出対象の図書にICタグが貼付されていること

---

## 事後条件

- 図書が利用者に貸し出される
- 貸出記録がシステムに登録される
- レシート（任意）が印刷される

---

## 基本フロー

1. 利用者がセルフ貸出端末の前に立つ
2. 端末が「利用者カードをかざしてください」と表示・音声案内する
3. 利用者がカードをかざす
4. 端末が利用者を認証し、貸出状況を表示する
5. 端末が「本を台に置いてください」と案内する
6. 利用者が貸出する本を台に置く
7. 端末がICタグを読み取り、図書情報を表示する
8. 利用者が「貸出する」ボタンを押す
9. 端末が貸出処理を実行し、返却期限を表示する
10. 利用者がレシート印刷有無を選択する
11. 端末が完了画面を表示する

---

## 代替フロー

### 4a. 延滞中の場合

1. 端末が「延滞中の図書があります。カウンターにお越しください」と表示する
2. ユースケース終了

### 4b. 貸出上限に達している場合

1. 端末が「貸出上限に達しています」と表示する
2. ユースケース終了

### 7a. ICタグ読取エラーの場合

1. 端末が「読み取れませんでした。もう一度置いてください」と表示する
2. 利用者が本を置き直す
3. 基本フロー7に戻る

### 7b. バーコードでの代替

1. 端末が「バーコードをスキャンしてください」と案内する
2. 利用者がバーコードをスキャンする
3. 基本フロー8に進む

---

## 画面フロー

```
[待機画面] → [カード認証] → [貸出画面] → [確認画面] → [完了画面]
```

---

## ビジネスルール

| ルールID | ルール内容 |
|----------|-----------|
| BR-UC401-01 | 複数冊同時読取可能（最大10冊） |
| BR-UC401-02 | 延滞中は新規貸出不可 |
| BR-UC401-03 | 貸出上限は1人5冊まで |
| BR-UC401-04 | 操作タイムアウトは60秒 |

---

## 非機能要件

| 項目 | 要件 |
|------|------|
| 可用性 | 開館時間中は利用可能 |
| アクセシビリティ | 音声ガイド、多言語対応 |
| パフォーマンス | ICタグ読取は3秒以内 |
