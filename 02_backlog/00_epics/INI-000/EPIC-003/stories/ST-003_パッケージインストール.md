# ST-003: 必要なパッケージのインストール

最終更新: 2025-12-23

---

## ストーリー

**開発者として**、フロントエンド開発に必要なパッケージをインストールしたい。
**なぜなら**、ルーティング、状態管理、フォーム管理などの機能を効率的に実装したいからだ。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| Epic | [EPIC-003: フロントエンド初期設定](../epic.md) |
| ポイント | 2 |
| 優先度 | Must |
| ステータス | Draft |

---

## 受け入れ条件

1. [ ] react-router がインストールされていること
2. [ ] @tanstack/react-query がインストールされていること
3. [ ] zustand がインストールされていること
4. [ ] axios がインストールされていること
5. [ ] react-hook-form がインストールされていること
6. [ ] zod がインストールされていること
7. [ ] すべてのパッケージが正しくインポートできること

---

## 技術仕様

### インストールパッケージ一覧

| パッケージ | バージョン | 用途 |
|-----------|-----------|------|
| react-router | 7.x | ルーティング |
| @tanstack/react-query | 5.x | サーバー状態管理 |
| zustand | 5.x | クライアント状態管理 |
| axios | 1.x | HTTP クライアント |
| react-hook-form | 7.x | フォーム管理 |
| zod | 3.x | バリデーション |
| @hookform/resolvers | 3.x | react-hook-form + zod 連携 |

### インストールコマンド

```bash
# フロントエンドコンテナに入る
docker compose exec frontend bash

# ルーティング
npm install react-router

# 状態管理
npm install @tanstack/react-query zustand

# HTTP クライアント
npm install axios

# フォーム管理 + バリデーション
npm install react-hook-form zod @hookform/resolvers
```

### 一括インストール

```bash
npm install react-router @tanstack/react-query zustand axios react-hook-form zod @hookform/resolvers
```

### 確認方法

```bash
# インストール済みパッケージの確認
npm list react-router @tanstack/react-query zustand axios react-hook-form zod
```

### 基本設定ファイル

#### src/lib/axios.ts

```typescript
import axios from 'axios'

/**
 * Axios インスタンス
 */
export const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL || 'http://localhost:8000/api',
  headers: {
    'Content-Type': 'application/json',
  },
})
```

#### src/lib/queryClient.ts

```typescript
import { QueryClient } from '@tanstack/react-query'

/**
 * TanStack Query クライアント
 */
export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5, // 5分
      retry: 1,
    },
  },
})
```

---

## 成果物

| 成果物 | 配置場所 |
|--------|---------|
| 更新された package.json | frontend/package.json |
| Axios 設定 | frontend/src/lib/axios.ts |
| QueryClient 設定 | frontend/src/lib/queryClient.ts |

---

## タスク

### Design Tasks（外部設計）

- [ ] 使用パッケージの選定
- [ ] バージョンの確定

### Spec Tasks（詳細設計）

- [ ] パッケージのインストール
- [ ] Axios 基本設定の作成
- [ ] QueryClient 基本設定の作成
- [ ] インポート確認

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-23 | 初版作成 |
