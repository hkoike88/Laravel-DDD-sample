# ST-002: Feature-based ディレクトリ構成の作成

最終更新: 2025-12-23

---

## ストーリー

**開発者として**、Feature-based アーキテクチャに基づいたディレクトリ構成を作成したい。
**なぜなら**、機能ごとに整理されたスケーラブルで保守性の高いコードベースを構築したいからだ。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| Epic | [EPIC-003: フロントエンド初期設定](../epic.md) |
| ポイント | 2 |
| 優先度 | Must |
| ステータス | Draft |

---

## 受け入れ条件

1. [ ] `src/app/` ディレクトリが作成されていること
2. [ ] `src/pages/` ディレクトリが作成されていること
3. [ ] `src/features/` ディレクトリが作成されていること
4. [ ] `src/components/` ディレクトリが作成されていること
5. [ ] `src/hooks/` ディレクトリが作成されていること
6. [ ] `src/lib/` ディレクトリが作成されていること
7. [ ] `src/types/` ディレクトリが作成されていること
8. [ ] 基本的な App.tsx と router.tsx が配置されていること

---

## 技術仕様

### ディレクトリ構成

```
src/
├── app/                        # アプリケーション設定
│   ├── App.tsx                 # ルートコンポーネント
│   ├── router.tsx              # ルーティング設定
│   └── providers/              # Context Providers
│       └── index.tsx
├── pages/                      # ページコンポーネント
│   └── .gitkeep
├── features/                   # 機能モジュール
│   └── .gitkeep
├── components/                 # 共通 UI コンポーネント
│   ├── ui/                     # 基本 UI 部品
│   │   └── .gitkeep
│   └── layout/                 # レイアウトコンポーネント
│       └── .gitkeep
├── hooks/                      # 共通 Hooks
│   └── .gitkeep
├── lib/                        # ユーティリティ
│   └── .gitkeep
└── types/                      # グローバル型定義
    └── index.ts
```

### ディレクトリ作成スクリプト

```bash
#!/bin/bash
# scripts/create-frontend-structure.sh

BASE_DIR="src"

# ディレクトリ作成
mkdir -p "$BASE_DIR/app/providers"
mkdir -p "$BASE_DIR/pages"
mkdir -p "$BASE_DIR/features"
mkdir -p "$BASE_DIR/components/ui"
mkdir -p "$BASE_DIR/components/layout"
mkdir -p "$BASE_DIR/hooks"
mkdir -p "$BASE_DIR/lib"
mkdir -p "$BASE_DIR/types"

# .gitkeep 作成
touch "$BASE_DIR/pages/.gitkeep"
touch "$BASE_DIR/features/.gitkeep"
touch "$BASE_DIR/components/ui/.gitkeep"
touch "$BASE_DIR/components/layout/.gitkeep"
touch "$BASE_DIR/hooks/.gitkeep"
touch "$BASE_DIR/lib/.gitkeep"

echo "Feature-based directory structure created successfully!"
```

### 基本ファイル

#### src/app/App.tsx

```tsx
import { RouterProvider } from 'react-router'
import { router } from './router'
import { AppProviders } from './providers'

/**
 * アプリケーションのルートコンポーネント
 */
export function App() {
  return (
    <AppProviders>
      <RouterProvider router={router} />
    </AppProviders>
  )
}
```

#### src/app/providers/index.tsx

```tsx
import { ReactNode } from 'react'

interface AppProvidersProps {
  children: ReactNode
}

/**
 * アプリケーション全体のプロバイダーをまとめるコンポーネント
 */
export function AppProviders({ children }: AppProvidersProps) {
  return <>{children}</>
}
```

#### src/types/index.ts

```typescript
/**
 * グローバル型定義
 */
export type {}
```

---

## 成果物

| 成果物 | 配置場所 |
|--------|---------|
| Feature-based ディレクトリ構成 | frontend/src/ |
| ディレクトリ作成スクリプト | frontend/scripts/create-frontend-structure.sh |
| App.tsx | frontend/src/app/App.tsx |
| providers | frontend/src/app/providers/index.tsx |
| グローバル型定義 | frontend/src/types/index.ts |

---

## タスク

### Design Tasks（外部設計）

- [ ] ディレクトリ構成の確定
- [ ] 各ディレクトリの役割定義

### Spec Tasks（詳細設計）

- [ ] ディレクトリ作成スクリプトの作成
- [ ] ディレクトリ構成の作成
- [ ] 基本ファイル（App.tsx、providers）の作成
- [ ] main.tsx の更新

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-23 | 初版作成 |
