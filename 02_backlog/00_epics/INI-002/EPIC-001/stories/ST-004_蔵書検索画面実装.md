# ST-004: 蔵書検索画面の実装

最終更新: 2025-12-24

---

## ストーリー

**図書館職員として**、蔵書を検索する画面を使いたい。
**なぜなら**、タイトルや著者名で素早く蔵書を探し、貸出可能かどうかを確認したいからだ。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| Epic | [EPIC-001: 蔵書検索](../epic.md) |
| ポイント | 5 |
| 優先度 | Must |
| ステータス | Draft |

---

## 受け入れ条件

1. [ ] 検索条件入力フォームがあること（タイトル、著者名、ISBN）
2. [ ] 検索ボタンで API を呼び出し、結果を表示すること
3. [ ] 検索結果にタイトル、著者、出版社、所蔵状態が表示されること
4. [ ] 所蔵状態が色分け表示されること（貸出可: 緑、貸出中: 赤、予約あり: 黄）
5. [ ] ページネーションが動作すること
6. [ ] 検索結果が0件の場合、適切なメッセージが表示されること
7. [ ] ローディング状態が表示されること

---

## 技術仕様

### 画面構成

```
┌─────────────────────────────────────────────────────────────┐
│ 蔵書検索                                                    │
├─────────────────────────────────────────────────────────────┤
│ タイトル: [____________] 著者: [____________]               │
│ ISBN: [____________]                        [🔍 検索]       │
├─────────────────────────────────────────────────────────────┤
│ 検索結果: 100件                                             │
├───────────────────────────────────────────────────┬─────────┤
│ タイトル          │ 著者      │ 出版社    │ 状態 │         │
├───────────────────┼───────────┼───────────┼──────┼─────────┤
│ 吾輩は猫である    │ 夏目漱石  │ 岩波書店  │ 🟢   │ [詳細]  │
│ 坊っちゃん        │ 夏目漱石  │ 新潮社    │ 🔴   │ [詳細]  │
└───────────────────┴───────────┴───────────┴──────┴─────────┘
│ < 1 2 3 4 5 >                                               │
└─────────────────────────────────────────────────────────────┘
```

### コンポーネント構成

```
src/features/books/
├── components/
│   ├── BookSearchForm.tsx      # 検索フォーム
│   ├── BookSearchResults.tsx   # 検索結果一覧
│   ├── BookStatusBadge.tsx     # 状態バッジ
│   └── BookDetailModal.tsx     # 詳細モーダル
├── hooks/
│   └── useBookSearch.ts        # 検索カスタムフック
├── api/
│   └── bookApi.ts              # API クライアント
└── pages/
    └── BookSearchPage.tsx      # ページコンポーネント
```

---

## 成果物

| 成果物 | 配置場所 |
|--------|---------|
| BookSearchPage.tsx | frontend/src/features/books/pages/ |
| BookSearchForm.tsx | frontend/src/features/books/components/ |
| BookSearchResults.tsx | frontend/src/features/books/components/ |
| useBookSearch.ts | frontend/src/features/books/hooks/ |
| bookApi.ts | frontend/src/features/books/api/ |

---

## タスク

### Design Tasks（外部設計）

- [ ] 画面レイアウト設計
- [ ] コンポーネント分割設計
- [ ] 状態管理設計

### Spec Tasks（詳細設計）

- [ ] API クライアント実装
- [ ] カスタムフック実装
- [ ] コンポーネント実装
- [ ] スタイリング（Tailwind CSS）
- [ ] ルーティング設定

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-24 | 初版作成 |
