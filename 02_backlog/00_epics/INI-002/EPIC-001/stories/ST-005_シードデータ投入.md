# ST-005: シードデータ（Excel インポート）の投入

最終更新: 2025-12-24

---

## ストーリー

**開発者として**、既存の Excel データをシードとしてインポートしたい。
**なぜなら**、実データで検索機能を検証し、仕様の妥当性を確認したいからだ。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| Epic | [EPIC-001: 蔵書検索](../epic.md) |
| ポイント | 3 |
| 優先度 | Must |
| ステータス | Draft |

---

## 受け入れ条件

1. [ ] Seeder または Artisan コマンドでサンプルデータを投入できること
2. [ ] 最低100件のサンプル蔵書データが投入されること
3. [ ] 各状態（available, borrowed, reserved）のデータが含まれること
4. [ ] 日本語タイトル・著者名のデータが含まれること
5. [ ] ISBN が正しい形式であること

---

## 技術仕様

### Seeder

```php
class BookSeeder extends Seeder
{
    public function run(): void
    {
        // サンプルデータ投入
        $books = [
            ['title' => '吾輩は猫である', 'author' => '夏目漱石', ...],
            ['title' => '坊っちゃん', 'author' => '夏目漱石', ...],
            // ...
        ];
    }
}
```

### Factory（オプション）

```php
class BookFactory extends Factory
{
    public function definition(): array
    {
        return [
            'id' => Str::uuid(),
            'title' => $this->faker->realText(30),
            'author' => $this->faker->name(),
            'isbn' => $this->faker->isbn13(),
            // ...
        ];
    }
}
```

### Artisan コマンド（将来の Excel インポート用）

```bash
php artisan import:books storage/app/蔵書管理.csv
```

---

## サンプルデータ

| タイトル | 著者 | ISBN | 出版社 | 状態 |
|---------|------|------|--------|------|
| 吾輩は猫である | 夏目漱石 | 9784003101018 | 岩波書店 | available |
| 坊っちゃん | 夏目漱石 | 9784101010014 | 新潮社 | borrowed |
| 羅生門 | 芥川龍之介 | 9784003107010 | 岩波書店 | available |
| 走れメロス | 太宰治 | 9784101006017 | 新潮社 | reserved |
| ... | ... | ... | ... | ... |

---

## 成果物

| 成果物 | 配置場所 |
|--------|---------|
| BookSeeder.php | backend/database/seeders/ |
| BookFactory.php | backend/database/factories/ |
| sample_books.csv | backend/storage/app/ |

---

## タスク

### Design Tasks（外部設計）

- [ ] サンプルデータの選定
- [ ] データ形式の確定

### Spec Tasks（詳細設計）

- [ ] Seeder の実装
- [ ] Factory の実装（オプション）
- [ ] サンプル CSV の作成
- [ ] シード実行確認

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-24 | 初版作成 |
