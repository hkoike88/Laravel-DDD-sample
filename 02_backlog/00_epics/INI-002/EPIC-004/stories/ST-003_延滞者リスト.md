# ST-003: 延滞者リスト機能の実装

最終更新: 2025-12-24

---

## ストーリー

**図書館職員として**、延滞者の一覧を確認したい。
**なぜなら**、督促対応を効率的に行いたいからだ。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| Epic | [EPIC-004: 返却処理](../epic.md) |
| ポイント | 3 |
| 優先度 | Must |
| ステータス | Draft |

---

## 受け入れ条件

1. [ ] 延滞中の貸出一覧が表示されること
2. [ ] 延滞日数でソートできること
3. [ ] 利用者情報（氏名、連絡先）が表示されること
4. [ ] 図書情報が表示されること
5. [ ] 連絡済みマークが付けられること

---

## タスク

### Design Tasks（外部設計）

- [ ] 画面レイアウト設計

### Spec Tasks（詳細設計）

- [ ] GetOverdueLoansUseCase の実装
- [ ] 延滞者リスト API の実装
- [ ] 延滞者リスト画面コンポーネントの実装
- [ ] 連絡済みマーク機能の実装
- [ ] Feature テストの作成

---

## API 仕様

### リクエスト

```http
GET /api/loans/overdue?sort=overdue_days&order=desc&page=1&per_page=20
```

### レスポンス

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "data": [
    {
      "id": "uuid",
      "patron": {
        "id": "uuid",
        "name": "山田太郎",
        "phone": "090-1234-5678"
      },
      "book": {
        "id": "uuid",
        "title": "プログラミング入門"
      },
      "due_at": "2025-01-15T23:59:59+09:00",
      "overdue_days": 10,
      "contacted": false
    }
  ],
  "meta": {
    "total": 15,
    "page": 1,
    "per_page": 20
  }
}
```

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-24 | 初版作成 |
