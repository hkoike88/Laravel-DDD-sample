# EPIC-004: 返却処理

最終更新: 2025-12-24

---

## 概要

職員が利用者から図書を返却受付する処理を行う機能を構築する。
延滞状況を自動チェックし、予約がある場合は次の予約者に通知する。

---

## 関連情報

| 項目 | 値 |
|------|-----|
| イニシアチブ | [LIB-001: 図書館業務デジタル化 MVP](../../../../01_vision/initiatives/INI-001/charter.md) |
| Use Case | [UC-001-004: 返却処理](../../../../01_vision/initiatives/INI-001/usecases/UC-001-004_返却処理.md) |
| 優先度 | Must |
| ステータス | Draft |
| 対応課題 | ISS-004 |

---

## ビジネス価値

- 返却処理時間を 3分 → 30秒 に短縮（83%削減）
- 延滞状況の自動検知
- 予約者への自動通知連携
- 延滞者リストの自動生成

---

## 受け入れ条件

1. 図書バーコード/ISBN で返却対象を特定できること
2. 貸出情報（貸出者、貸出日、返却期限）が表示されること
3. 延滞している場合、警告が表示されること
4. 予約がある場合、通知が表示されること
5. 返却記録が更新されること
6. 延滞者リストが確認できること

---

## User Story 一覧

| ID | Story 名 | ポイント | 優先度 | ステータス |
|----|----------|---------|--------|----------|
| [ST-001](./stories/ST-001_返却API実装.md) | 返却 API の実装 | 3 | Must | Draft |
| [ST-002](./stories/ST-002_返却画面実装.md) | 返却画面の実装 | 5 | Must | Draft |
| [ST-003](./stories/ST-003_延滞者リスト.md) | 延滞者リスト機能の実装 | 3 | Must | Draft |
| [ST-004](./stories/ST-004_予約連携.md) | 予約連携（取り置き処理）の実装 | 3 | Should | Draft |

---

## 依存関係

### 前提条件

- EPIC-003（貸出処理）が完了していること

### 後続タスク

| Epic ID | Epic 名 | 関係 |
|---------|---------|------|
| EPIC-005 | 予約登録 | 返却時の予約チェック連携 |

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-12-24 | 初版作成 |
