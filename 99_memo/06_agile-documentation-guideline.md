# アジャイルにおけるドキュメントの具体性

最終更新: 2024-04-01

## 背景

Use Case作成時に「検索条件を入力（書籍名、著者名、キーワード等）」という記述があった。
「等」という曖昧な表現はアジャイルでも避けるべきか？という議論から、本ガイドラインを作成。

---

## 結論

**アジャイルでも、分かっていることは具体的に書く。**

---

## よくある誤解

| 誤解 | 実際 |
|------|------|
| アジャイルはドキュメントを書かない | 必要なものは書く |
| 詳細は後で決める | **分かっていることは書く** |
| 柔軟に対応する | 変更に対応する≠曖昧にする |
| 軽量ドキュメント | 少ない≠雑 |

---

## 「等」「など」が許されるケース

| ケース | 例 |
|--------|-----|
| 本当にまだ決まっていない | ステークホルダーと未確認の機能 |
| 意図的にスコープを広げている | 将来拡張の余地を残す |
| 優先度が低く、やるか未定 | MVP対象外の機能 |

---

## 「等」「など」がダメなケース

| ケース | 理由 |
|--------|------|
| AS-ISで既に分かっている | 怠慢。調べれば書ける |
| 業務ルールとして存在する | 現場は具体的に運用している |
| MVP対象の機能 | 曖昧だと実装できない |

---

## 具体例: 検索条件

### ダメな例

```markdown
## 主な流れ

1. 検索条件を入力（書籍名、著者名、キーワード等）
2. 検索を実行
```

**問題点**:
- 「等」が何を指すか不明
- 実装時に再確認が必要
- 受入基準が書けない

### 良い例

```markdown
## 主な流れ

1. 検索条件を入力
   - 書籍名（部分一致）
   - 著者名（部分一致）
   - 分類番号（前方一致）
2. 検索を実行
```

**改善点**:
- 検索対象が明確
- 検索方法（部分一致/前方一致）も明記
- 受入基準に落とし込める

---

## アジャイルで曖昧にしていいもの

| 対象 | 理由 |
|------|------|
| 将来のスプリントで扱う機能の詳細 | まだ着手しない |
| 技術的な実装方法 | 設計フェーズで決める |
| 優先度が低く、やるか未定のもの | リソースを割かない |

---

## 今すぐ明確にすべきもの

| 対象 | 理由 |
|------|------|
| MVP対象の機能仕様 | Sprint 1〜5で実装する |
| 業務ルール | AS-ISで既に存在する |
| 受入基準 | UATで検証する |
| 制約・前提条件 | 設計に影響する |

---

## 判断フロー

```
その情報は分かっているか？
    │
    ├─ YES → 具体的に書く
    │
    └─ NO → なぜ分からないか？
              │
              ├─ 未確認 → 確認して書く
              │
              └─ 未決定 → 「未定」と明記し、決定時期を書く
```

---

## 本プロジェクトへの適用

### Use Caseレベル

- 主な流れは具体的に（「等」を使わない）
- AS-ISに記載があるものは参照して明記
- MVP対象外は「備考」で明示

### User Storyレベル

- 受入基準は具体的なチェックリスト形式
- 曖昧な場合はPOに確認してから着手

### Taskレベル

- 実装仕様は具体的に
- 技術的な判断は設計時に決定

---

## Use Case以外の手法でも同じか？

Use Caseを使わないアジャイル現場も多い。しかし、**手法が変わっても具体性の原則は同じ**。

### 主な手法

| 手法 | 粒度 | 特徴 |
|------|------|------|
| **User Story のみ** | 小 | Epic → Story で直接分解 |
| **User Story Mapping** | 中 | 横軸:フロー、縦軸:優先度 |
| **Job Story** | 中 | 状況・動機・期待結果で記述 |
| **Feature List** | 大 | 機能一覧でシンプルに管理 |

### User Story の場合

**ダメな例**:
```markdown
利用者として、本を検索したい。
そうすれば、読みたい本を見つけられる。

受入基準:
- 検索できる
```

**良い例**:
```markdown
利用者として、書籍名・著者名で蔵書を検索したい。
そうすれば、読みたい本の所在と貸出状況が分かる。

受入基準:
- [ ] 書籍名の部分一致で検索できる
- [ ] 著者名の部分一致で検索できる
- [ ] 検索結果に所在（配架場所）が表示される
- [ ] 検索結果に貸出状況（貸出可/貸出中）が表示される
- [ ] 該当なしの場合、その旨が表示される
```

### Job Story の場合

**ダメな例**:
```markdown
本を探しているとき、検索したい。
そうすれば、見つけられる。
```

**良い例**:
```markdown
図書館で読みたい本があるとき、
書籍名または著者名で検索したい。
そうすれば、その本が今借りられるか、どこにあるか分かる。
```

### 結論: 手法に関係なく同じ

| 手法 | 「等」問題 |
|------|-----------|
| Use Case | 同じ。具体的に書く |
| User Story | 同じ。受入基準を具体的に |
| Job Story | 同じ。状況・期待結果を具体的に |
| Feature List | 同じ。機能仕様を具体的に |

**手法が変わっても「分かっていることは具体的に書く」原則は変わらない。**

---

## 参考

- [Agile Manifesto](https://agilemanifesto.org/): 「動くソフトウェア > 包括的なドキュメント」は「ドキュメント不要」ではない
- [INVEST原則](https://www.agilealliance.org/glossary/invest/): Storyは Specific（具体的）であるべき

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2024-04-01 | 初版作成 |
| 2024-04-01 | Use Case以外の手法についてのセクション追加 |

---

作成日: 2024-04-01
